import{r as i,j as e}from"./index-QHLnC7jv.js";import{c as f,P as B,X as k}from"./x-hlhrqO14.js";const M=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],q=f("pen",M);const O=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],V=f("trash-2",O);const I=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],R=f("upload",I),H=()=>{const[C,x]=i.useState([]),[D,h]=i.useState("list"),[c,m]=i.useState(null),[b,P]=i.useState(""),[u,S]=i.useState(""),[z,j]=i.useState(null),[l,r]=i.useState({id:"",name:"",totalPrice:0,pricePerSqm:0,area:0,propertyType:"studio",location:"Płock",preciselocation:"",description:"",technicalDetails:[],photos:[]}),y=["studio","2-room","3-room","house"],v=["Płock","Ciechanów","Płońsk","N.DW.MAZ.","Mława"],n=a=>{const{name:t,value:s}=a.target;r(o=>({...o,[t]:["totalPrice","pricePerSqm","area"].includes(t)?parseFloat(s)||0:s}))},E=()=>{r(a=>({...a,technicalDetails:[...a.technicalDetails,{key:"",value:""}]}))},N=(a,t,s)=>{r(o=>({...o,technicalDetails:o.technicalDetails.map((d,p)=>p===a?{...d,[t]:s}:d)}))},F=a=>{const t=a.currentTarget.files;t&&Array.from(t).forEach(s=>{const o=new FileReader;o.onload=d=>{r(p=>({...p,photos:[...p.photos,d.target?.result]}))},o.readAsDataURL(s)})},T=a=>{r(t=>({...t,photos:t.photos.filter((s,o)=>o!==a)}))},_=a=>{if(a.preventDefault(),!l.name||!l.totalPrice||!l.area){alert("Please fill in all required fields");return}c?(x(t=>t.map(s=>s.id===c?{...l,id:c}:s)),m(null)):x(t=>[...t,{...l,id:Date.now().toString()}]),g(),h("list")},g=()=>{r({id:"",name:"",totalPrice:0,pricePerSqm:0,area:0,propertyType:"studio",location:"Płock",preciselocation:"",description:"",technicalDetails:[],photos:[]})},L=a=>{r(a),m(a.id),h("form")},A=a=>{x(t=>t.filter(s=>s.id!==a)),j(null)},w=C.filter(a=>(!b||a.propertyType===b)&&(!u||a.location===u));return e.jsx("div",{className:"min-h-screen bg-black bg-[linear-gradient(to_right,#ffffff10_1px,transparent_1px),linear-gradient(to_bottom,#ffffff10_1px,transparent_1px)] bg-[size:42px_42px] text-[#F2E4B8] p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-5xl font-bold mb-8",children:"Panel sterowania"}),D==="list"?e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>{g(),h("form")},className:"mb-6 bg-[#111111] hover:bg-[#222222] text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2",children:[e.jsx(B,{size:20})," Dodaj nową ofertę"]}),e.jsx("div",{className:"bg-[#474747] rounded-xl p-6 mb-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Opcja budynku"}),e.jsxs("select",{value:b,onChange:a=>P(a.target.value),className:"bg-[#111111] text-white px-4 py-2 rounded-lg border border-[#333333]",children:[e.jsx("option",{value:"",children:"All Types"}),y.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Lokacja"}),e.jsxs("select",{value:u,onChange:a=>S(a.target.value),className:"bg-[#111111] text-white px-4 py-2 rounded-lg border border-[#333333]",children:[e.jsx("option",{value:"",children:"All Locations"}),v.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]})}),w.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-2xl text-gray-400",children:"Brak ofert"})}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:w.map(a=>e.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333333] rounded-xl p-6 hover:border-[#F2E4B8] transition",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:[a.propertyType," • ",a.location]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Cena:"})," $",a.totalPrice.toLocaleString()]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Metry kwadratowe:"})," ",a.area," m²"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"cena za metr kwadrat:"})," $",a.pricePerSqm.toFixed(2)]})]}),a.photos.length>0&&e.jsx("div",{className:"mb-4 grid grid-cols-2 gap-2",children:a.photos.slice(0,4).map((t,s)=>e.jsx("img",{src:t,alt:"listing",className:"w-full h-20 object-cover rounded"},s))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>L(a),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded flex items-center justify-center gap-1",children:[e.jsx(q,{size:16})," Edytuj"]}),e.jsxs("button",{onClick:()=>j(a.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded flex items-center justify-center gap-1",children:[e.jsx(V,{size:16})," Usuń"]})]}),z===a.id&&e.jsxs("div",{className:"mt-3 p-3 bg-red-900 rounded text-sm",children:[e.jsx("p",{className:"mb-2",children:"Are you sure?"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>A(a.id),className:"flex-1 bg-red-600 hover:bg-red-700 py-1 rounded",children:"Tak"}),e.jsx("button",{onClick:()=>j(null),className:"flex-1 bg-gray-600 hover:bg-gray-700 py-1 rounded",children:"Anuluj"})]})]})]},a.id))})]}):e.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333333] rounded-xl p-8 max-w-2xl",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6",children:c?"Edytuj Ofertę":"Nowa Oferta"}),e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-2",children:"Nazwa*"}),e.jsx("input",{type:"text",name:"name",value:l.name,onChange:n,className:"w-full bg-[#111111] text-white px-4 py-2 rounded-lg border border-[#333333] focus:border-[#F2E4B8] outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-2",children:"Opcja budynku*"}),e.jsx("select",{name:"propertyType",value:l.propertyType,onChange:n,className:"w-full bg-[#111111] text-white px-4 py-2 rounded-lg border border-[#333333] focus:border-[#F2E4B8] outline-none",children:y.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-2",children:"Cena całkowita (PLN) *"}),e.jsx("input",{type:"number",name:"totalPrice",value:l.totalPrice||"",onChange:n,className:"w-full bg-[#111111] text-white px-4 py-2 rounded-lg border border-[#333333] focus:border-[#F2E4B8] outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-2",children:"Metry kwadratowe (m²) *"}),e.jsx("input",{type:"number",name:"area",value:l.area||"",onChange:n,className:"w-full bg-[#111111] text-white px-4 py-2 rounded-lg border border-[#333333] focus:border-[#F2E4B8] outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-2",children:"Cena za metr kwadratowy (PLN)"}),e.jsx("input",{type:"number",name:"pricePerSqm",value:l.pricePerSqm||"",onChange:n,className:"w-full bg-[#111111] text-white px-4 py-2 rounded-lg border border-[#333333] focus:border-[#F2E4B8] outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-2",children:"Lokalizacja *"}),e.jsx("select",{name:"location",value:l.location,onChange:n,className:"w-full bg-[#111111] text-white px-4 py-2 rounded-lg border border-[#333333] focus:border-[#F2E4B8] outline-none",children:v.map(a=>e.jsx("option",{value:a,children:a},a))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-2",children:"Dokładna Lokalizacja"}),e.jsx("input",{type:"text",name:"preciselocation",value:l.preciselocation,onChange:n,className:"w-full bg-[#111111] text-white px-4 py-2 rounded-lg border border-[#333333] focus:border-[#F2E4B8] outline-none",placeholder:"e.g., Street address, district"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-2",children:"Opis"}),e.jsx("textarea",{name:"description",value:l.description,onChange:n,rows:5,className:"w-full bg-[#111111] text-white px-4 py-2 rounded-lg border border-[#333333] focus:border-[#F2E4B8] outline-none",placeholder:"Detailed description of the property"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("label",{className:"font-semibold",children:"Szczegóły techniczne"}),e.jsx("button",{type:"button",onClick:E,className:"text-sm bg-[#111111] hover:bg-[#222222] px-3 py-1 rounded",children:"+ Dodaj Szczegół"})]}),e.jsx("div",{className:"space-y-2",children:l.technicalDetails.map((a,t)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Key (e.g., Year Built)",value:a.key,onChange:s=>N(t,"key",s.target.value),className:"flex-1 bg-[#111111] text-white px-3 py-2 rounded-lg border border-[#333333] text-sm"}),e.jsx("input",{type:"text",placeholder:"Value (e.g., 2018)",value:a.value,onChange:s=>N(t,"value",s.target.value),className:"flex-1 bg-[#111111] text-white px-3 py-2 rounded-lg border border-[#333333] text-sm"}),e.jsx("button",{type:"button",onClick:()=>r(s=>({...s,technicalDetails:s.technicalDetails.filter((o,d)=>d!==t)})),className:"bg-red-600 hover:bg-red-700 text-white px-2 py-2 rounded",children:e.jsx(k,{size:16})})]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-3",children:"Zdjęcia"}),e.jsxs("label",{className:"flex items-center gap-2 bg-[#111111] hover:bg-[#222222] border-2 border-dashed border-[#333333] rounded-lg p-6 cursor-pointer transition",children:[e.jsx(R,{size:20}),e.jsx("span",{children:"Kliknij aby dodać zdjęcie"}),e.jsx("input",{type:"file",onChange:F,multiple:!0,accept:"image/*",className:"hidden"})]}),l.photos.length>0&&e.jsx("div",{className:"mt-4 grid grid-cols-4 gap-4",children:l.photos.map((a,t)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:a,alt:"preview",className:"w-full h-24 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>T(t),className:"absolute top-1 right-1 bg-red-600 hover:bg-red-700 text-white p-1 rounded-lg opacity-0 group-hover:opacity-100 transition",children:e.jsx(k,{size:14})})]},t))})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg transition",children:c?"Aktualizuj ofertę":"Dodaj ofertę"}),e.jsx("button",{type:"button",onClick:()=>{h("list"),g(),m(null)},className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 rounded-lg transition",children:"Anuluj"})]})]})]})]})})};export{H as default};
